(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{379:function(t,a,e){"use strict";e.r(a);var s=e(310),i=e(311),n=(e(364),e(176),e(177),e(9),e(15),e(365)),r=0,h={props:{type:String,data:[Array,Object],height:{type:Number,default:250}},watch:{$props:{deep:!0,handler:function(){this.update()}},$attrs:{deep:!0,handler:function(){this.parse(),this.update()}}},computed:{applyToDataObject:function(){return["labels","start","end","yRegions","yMarkers"]},dataObject:function(){var t="heatmap"===this.type?"dataPoints":"datasets";return Object(i.a)(Object(s.a)({},t,this.data),this.dataAttrs)},config:function(){return Object(i.a)(Object(i.a)({},this.chartAttrs),{},{type:this.type,height:this.height})}},data:function(){return{id:"frappe-chart-".concat(r++),dataAttrs:{},chartAttrs:{},last:void 0}},mounted:function(){this.parse(),this.init()},unmounted:function(){this.destroy()},methods:{init:function(){this.chart&&this.destroy(),this.chart=new n.a("#".concat(this.id),Object(i.a)(Object(i.a)({},this.config),{},{data:this.dataObject})),this.chart.parent.addEventListener("data-select",this.select),this.last=this.chart.rawChartArgs,delete this.last.data},destroy:function(){this.chart.parent.removeEventListener("data-select",this.select),this.chart.destroy(),this.chart=void 0},update:function(){for(var t in this.config)if(this.config[t]!==this.last[t])return this.init();this.chart.update(this.dataObject)},parse:function(){var t={},a={};for(var e in this.$attrs){var s=""===this.$attrs[e]||this.$attrs[e];this.applyToDataObject.includes(e)?t[e]=s:a[e]=s}this.dataAttrs=t,this.chartAttrs=a},select:function(t){this.$emit("data-select",{index:t.index,label:t.label,value:1===t.values.length?t.values[0]:t.values,event:t})}}},c=e(24),d=Object(c.a)(h,(function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:this.id}})}),[],!1,null,null,null);a.default=d.exports}}]);