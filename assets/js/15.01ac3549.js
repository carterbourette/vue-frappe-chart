(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{379:function(t,e,a){"use strict";a.r(e);var s=a(310),i=a(311),n=(a(364),a(176),a(177),a(9),a(15),a(365)),r=0,h={props:{type:String,data:[Array,Object],height:{type:Number,default:250}},watch:{$props:{deep:!0,handler:function(){this.update()}},$attrs:{deep:!0,handler:function(){this.parse(),this.update()}}},computed:{applyToDataObject:function(){return["labels","start","end","yRegions","yMarkers"]},dataObject:function(){var t="heatmap"===this.type?"dataPoints":"datasets";return Object(i.a)(Object(s.a)({},t,this.data),this.dataAttrs)},config:function(){return Object(i.a)(Object(i.a)({},this.chartAttrs),{},{type:this.type,height:this.height})}},data:function(){return{id:"frappe-chart-".concat(r++),dataAttrs:{},chartAttrs:{},last:void 0}},mounted:function(){this.parse(),this.init()},unmounted:function(){this.destroy()},beforeDestroy:function(){this.destroy()},methods:{init:function(){this.chart&&this.destroy(),this.chart=new n.a("#".concat(this.id),Object(i.a)(Object(i.a)({},this.config),{},{data:this.dataObject})),this.chart.parent.addEventListener("data-select",this.select),this.last=this.chart.rawChartArgs,delete this.last.data},destroy:function(){this.chart.parent.removeEventListener("data-select",this.select),this.chart.destroy(),this.chart=void 0},update:function(){for(var t in this.config)if(this.config[t]!==this.last[t])return this.init();this.chart.update(this.dataObject)},parse:function(){var t={},e={};for(var a in this.$attrs){var s=""===this.$attrs[a]||this.$attrs[a];this.applyToDataObject.includes(a)?t[a]=s:e[a]=s}this.dataAttrs=t,this.chartAttrs=e},select:function(t){this.$emit("data-select",{index:t.index,label:t.label,value:1===t.values.length?t.values[0]:t.values,event:t})}}},c=a(24),d=Object(c.a)(h,(function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:this.id}})}),[],!1,null,null,null);e.default=d.exports}}]);